import zipfile

def extractFile(zFile, password):
    try:
        zFile.extractall(pwd=password)
        return password
    except RuntimeError:
        return 0

def main():
    zFile = zipfile.ZipFile('test.zip')
    passFile = open("../dict.txt", "rb")

    print("[*] Finding Password")
    for line in passFile.readlines():
        if chr(line[-1]) == '\n':
            password = line[0:-1]
        else:
            password = line
        guess = extractFile(zFile, password)

        if guess:
            print("[+] Password Found: " + password.decode())
            exit(0)
    passFile.close()

if __name__ == '__main__':
    main()